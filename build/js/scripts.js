"use strict";function stopScroll(e){var t=parseInt(document.documentElement.clientWidth),i=parseInt(window.innerWidth),n=i-t;$(e).attr("style","overflow: hidden; padding-right: "+n+"px")}function freeScroll(e){$(e).attr("style","")}function mainMenu(e,t){$(e).on("click",function(){stopScroll("body"),$(t).fadeIn().addClass("visible")}),$(".mainMenu__close").on("click",function(){$(t).removeClass("visible"),setTimeout(function(){$(t).hide()},800)})}function modalOpen(e,t){$(e).on("click",function(){stopScroll("body"),$(t).fadeIn().css({display:"flex"})})}function modalClose(e,t){$(e).on("click",function(){$(this).closest(t).fadeOut(),$("body").attr("style",""),freeScroll("body")})}function escClosing(e){$(document).keydown(function(t){return 27===t.keyCode?($(e).fadeOut(),$("body").attr("style",""),!1):void 0})}function owls(){var e=$(".showroom__slider");e.owlCarousel({nav:!0,navContainer:".showroom__sliderNav",navText:['<svg class="showroom__sliderNavBtn" width="20" height="20" viewBox="0 0 20 20" fill="none"xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd"d="M17.5983 10.5776H0V9.23071H17.413L9.40289 0.95237L10.3244 0L20.0003 9.99988L10.3244 19.9998L9.40289 19.0474L17.5983 10.5776Z"fill="#4F4F4F" /></svg>','<svg class="sliderNavBtn"  width="20" height="20" viewBox="0 0 20 20" fill="none"xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd"d="M17.5983 10.5776H0V9.23071H17.413L9.40289 0.95237L10.3244 0L20.0003 9.99988L10.3244 19.9998L9.40289 19.0474L17.5983 10.5776Z"fill="#4F4F4F" /></svg>'],dots:!1,items:1,touchDrag:!1,mouseDrag:!1,animateIn:"fadeIn",smartSpeed:1e3,lazyLoad:!0,margin:10}).on("change.owl.carousel",function(e){var t=$(".showroom__slider").find(".owl-item").eq(e.property.value).find("img");$(".showroom__sliderInfo").hide().fadeIn(500),$(".showroom__sliderOption-name").text(t.attr("data-title")),$(".showroom__sliderOption-size").text(t.attr("data-size")),$(".showroom__sliderOption-price").text(t.attr("data-price"))});var t=$(".cert__slider");t.addClass("owl-carousel owl-theme").owlCarousel({nav:!0,navContainer:".cert__nav",navText:['<svg class="sliderNavBtn" width="20" height="20" viewBox="0 0 20 20" fill="none"xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd"d="M17.5983 10.5776H0V9.23071H17.413L9.40289 0.95237L10.3244 0L20.0003 9.99988L10.3244 19.9998L9.40289 19.0474L17.5983 10.5776Z"fill="#4F4F4F" /></svg>','<svg class="sliderNavBtn"  width="20" height="20" viewBox="0 0 20 20" fill="none"xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd"d="M17.5983 10.5776H0V9.23071H17.413L9.40289 0.95237L10.3244 0L20.0003 9.99988L10.3244 19.9998L9.40289 19.0474L17.5983 10.5776Z"fill="#4F4F4F" /></svg>'],dots:!1,smartSpeed:1e3,lazyLoad:!0,margin:10,items:1}).on("change.owl.carousel initialize.owl.carousel",function(){var e=$(".cert__slider").find(".owl-item.active").eq(0).find("img");$(".cert__description").hide().fadeIn(500),$(".cert__description").text(e.attr("data-content"))})}function detailOwls(){$(".detail__slider").owlCarousel({items:1,margin:10,dots:!1,lazyLoad:!0,thumbs:!0,thumbImage:!0,thumbsPrerendered:!0,thumbContainerClass:"owl-thumbs",thumbItemClass:"owl-thumbs-item",smartSpeed:400})}function itemsCounter(e,t){function i(e,t){$(e).each(function(e,i){$(i).text(Number($(i).text())*Number(t))})}var n,e=$(e),s=e.find("input"),a=e.find("button"),o=1;""==s.val()&&s.attr("value",1).val(1),$(a).eq(0).addClass("subtract"),$(a).eq(1).addClass("addition"),$(".subtract").prop("disabled",!0),$(a).on("click",function(){n=Number($(this).siblings("input").attr("value")),o=n,$(this).prop("disabled")||($(this).closest(e).find(a).prop("disabled",!1),$(this).hasClass("addition")?o++:(1>=o-1&&$(this).prop("disabled",!0),o--)),$(this).siblings(s).attr("value",o).val(o),i(t,o)}),$(s).on("mouseenter",function(){$(this).focus()}).on("input",function(e){var n=Number($(this).val());$(this).siblings(a).prop("disabled",!1),(""===n||1>n||0==n)&&$(this).attr("value","").val("").siblings("button").prop("disabled",!0),$(this).attr("value",e.target.value).val(e.target.value),i(t,e.target.value)})}function hashTabs(e,t){function i(e){$(a).filter("[data-index = "+e+"]").addClass(o),setTimeout(function(){$(".active").addClass("visible");var e=a.filter(".active").height();$(t).css({height:e})},100)}for(var n,s=$(e).children("button"),a=$(t).children(),o="active",l=$(s).length,r=location.hash,d=0;l>d;d++)$(s[d]).attr("data-index",d+1),$(a[d]).attr("data-index",d+1);if(r>""){var c=r.replace("#","");$(s).filter("[data-index = "+c+"]").addClass(o),i(c)}else $(s).eq(0).addClass(o),i(1);$(s).on("click",function(){$(this).hasClass(o)||(n=$(this).attr("data-index"),location.hash=n,$(s).removeClass(o),$(this).addClass(o),$(a).removeClass("active visible"),i(n))})}function activeLine(e,t){function i(){var i=$(e).offset().left,s=n.filter(".active").width(),a=n.filter(".active").offset().left-i;0>a?a=0:$(t).css({width:s,left:a})}var n=$(e).children("button");console.log(n.filter("active")),$(n).on("click",function(){$(this).hasClass(".active")||($(this).addClass("active"),i())}),setTimeout(function(){i(),$(t).css({display:"block"})},200)}function tabs(e,t){function i(e){a.filter("[data-index = "+e+"]").addClass(o),setTimeout(function(){a.filter(".".concat(o)).addClass("visible");var e=a.filter(".active").height();$(t).css({height:e})},100)}for(var n,s=$(e).children("button"),a=$(t).children(),o="active",l=$(s).length,r=0;l>r;r++)$(s[r]).attr("data-index",r+1),$(a[r]).attr("data-index",r+1);s.eq(0).addClass(o),i(1),s.on("click",function(){console.log($(this)),$(this).hasClass(o)||(n=$(this).attr("data-index"),s.removeClass(o),$(this).addClass(o),a.removeClass("active visible"),i(n))})}function youTubeInit(e,t){$(e).on("click",function(){var e=$(this).attr("data-video");$(this).after('<iframe class="'.concat(t,'" src="').concat(e,'" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>')).remove()})}function tips(e){var e=$(e),t=e.find("button");t.on("click",function(){var e=$(this).siblings(".content");$(this).hasClass("isOpen")?($(this).removeClass("isOpen"),e.slideUp()):($(this).addClass("isOpen"),e.slideDown())})}function showMenu(e,t){var i=$(".aside"),t=$(t),e=t.siblings(e),n=!0;n===!0&&(n=!1,$(document).on("scroll",function(){i.removeClass("open")})),t.on("click",function(){$(this).hasClass("isOpen")?($(this).removeClass("isOpen"),e.fadeOut(200)):($(this).addClass("isOpen"),e.fadeIn(200))}),$(document).on("mousedown",function(i){$(e).parent().is(i.target)||0!==$(e).parent().has(i.target).length||(e.fadeOut(200),t.removeClass(".isOpen"))})}function yandexMap(e,t){$("#map").length>0&&ymaps.ready(function(){var i=new ymaps.Map("map",{center:e,zoom:17,multiTouch:!1,controls:["zoomControl"]},{suppressMapOpenBlock:!0}),n=new ymaps.Placemark(e,{hintContent:t});i.geoObjects.add(n),i.controls.remove("routeEditor"),i.behaviors.disable("scrollZoom")})}function toggleList(e){function t(e,t){$(e).removeClass(n),$(t).height(0)}var e=$(e),i=e.find("button"),n="isOpen";$(i).on("click",function(){var s=$(this).siblings("input"),a=$(this).siblings("div"),o=a.find("div"),l=o.length,r=o.height();$(this).hasClass(n)?t($(this),a):(t($(i),a),$(this).addClass(n),$(a).height(l*r)),$(o).on("click",function(){s.val($(this).text()),t($(i),a)}),$(document).on("mousedown",function(n){$(e).is(n.target)||0!==$(e).has(n.target).length||t($(i),a)})})}function activeItemOnClick(e){var e=$(e),t=e.find("button");t.on("click",function(){t.removeClass("active"),$(this).addClass("active")})}function animationInit(){$(".animation").css({"animation-name":"slideTo"}).hide().show(0)}function inputTypeNumberCheck(){$("input[data-number]").keydown(function(e){$(this).hasClass("error")&&$(this).removeClass("error"),46==e.keyCode||17==e.keyCode||8==e.keyCode||9==e.keyCode||27==e.keyCode||65==e.keyCode&&e.ctrlKey===!0||e.keyCode>=35&&e.keyCode<=39||(e.keyCode<48||e.keyCode>57)&&(e.keyCode<96||e.keyCode>105)&&e.preventDefault()})}var filterModal=function(e,t){$(e).on("click",function(){$(this).hasClass("isOpen")?($(this).removeClass("isOpen"),$(t).fadeOut()):($(this).addClass("isOpen"),$(t).fadeIn())}),$(".catalog__otherFilterApply",".catalog__otherFilterCancel").on("click",function(){$(e).removeClass("isOpen"),$(t).fadeOut()})},owlSlider=function(e,t){void 0==t&&(t="");var i=$(e);i.addClass("owl-carousel owl-theme").owlCarousel(Object.assign(t,{nav:!0,navText:['<svg class="sliderNavBtn" width="20" height="20" viewBox="0 0 20 20" fill="none"xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd"d="M17.5983 10.5776H0V9.23071H17.413L9.40289 0.95237L10.3244 0L20.0003 9.99988L10.3244 19.9998L9.40289 19.0474L17.5983 10.5776Z"fill="#4F4F4F" /></svg>','<svg class="sliderNavBtn"  width="20" height="20" viewBox="0 0 20 20" fill="none"xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd"d="M17.5983 10.5776H0V9.23071H17.413L9.40289 0.95237L10.3244 0L20.0003 9.99988L10.3244 19.9998L9.40289 19.0474L17.5983 10.5776Z"fill="#4F4F4F" /></svg>'],dots:!1,items:1,touchDrag:!1,mouseDrag:!1,animateIn:"fadeIn",smartSpeed:1e3,margin:10}))},owlItems=function(e,t){void 0==t&&(t="");var i=$(e);i.addClass("owl-carousel owl-theme").owlCarousel(Object.assign(t,{dots:!1,nav:!0,navText:['<svg class="sliderNavBtn" width="20" height="20" viewBox="0 0 20 20" fill="none"xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd"d="M17.5983 10.5776H0V9.23071H17.413L9.40289 0.95237L10.3244 0L20.0003 9.99988L10.3244 19.9998L9.40289 19.0474L17.5983 10.5776Z"fill="#4F4F4F" /></svg>','<svg class="sliderNavBtn"  width="20" height="20" viewBox="0 0 20 20" fill="none"xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd"d="M17.5983 10.5776H0V9.23071H17.413L9.40289 0.95237L10.3244 0L20.0003 9.99988L10.3244 19.9998L9.40289 19.0474L17.5983 10.5776Z"fill="#4F4F4F" /></svg>'],lazyLoad:!0,thumbs:!1,smartSpeed:1e3}))},owlGallery=function(e,t){void 0==t&&(t="");var i=$(e);i.each(function(e,i){$(i).addClass("owl-carousel owl-theme").owlCarousel(Object.assign(t,{items:1,dots:!0,lazyLoad:!0,nav:!1,margin:30,smartSpeed:1e3}))}).trigger("refresh.owl.carousel")},compareSlider=function(e){var t=$(e);t.addClass("owl-carousel owl-theme").owlCarousel({dots:!1,lazyLoad:!0,nav:!1,smartSpeed:1e3,responsive:{0:{items:1},768:{items:3}}})},counterOwlSlider=function(e,t,i){void 0==t&&(t="");var n=$(e);n.addClass("owl-carousel owl-theme").on("initialized.owl.carousel changed.owl.carousel",function(e){if(e.namespace){var t=e.relatedTarget,n="0"+(t.relative(t.current())+1),s="0"+t.items().length;$(i).find(".owl-current").html(n),$(i).find(".owl-length").html(s)}}).owlCarousel({items:1,margin:10,lazyLoad:!0,animateIn:"fadeIn",smartSpeed:1e3,thumbs:!1,navText:['<svg class="sliderNavBtn" width="20" height="20" viewBox="0 0 20 20" fill="none"xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd"d="M17.5983 10.5776H0V9.23071H17.413L9.40289 0.95237L10.3244 0L20.0003 9.99988L10.3244 19.9998L9.40289 19.0474L17.5983 10.5776Z"fill="#4F4F4F" /></svg>','<svg class="sliderNavBtn"  width="20" height="20" viewBox="0 0 20 20" fill="none"xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd"d="M17.5983 10.5776H0V9.23071H17.413L9.40289 0.95237L10.3244 0L20.0003 9.99988L10.3244 19.9998L9.40289 19.0474L17.5983 10.5776Z"fill="#4F4F4F" /></svg>']})},inputSetValue=function(){$("input").each(function(e,t){""==$(t).val()&&$(t).attr("value","")}).on("input",function(){$(this).removeClass("error").attr("value",$(this).val())})},searchHistory=function(e,t){var i,n=$(e).find('input[type="text"]'),s=function(e){var n,s=function(e){return'<span class="mainMenu__searchItem">\n                    <button type="button" class="mainMenu__searchItemBtn">'.concat(e,'</button>\n                    <button type="button" class="mainMenu__searchItemRemove"></button>\n                </span>')};e.length>1?$.each(e,function(e){n=i[e],$(t).append(s(n))}):$(t).prepend(s(e))},a=function(e){sessionStorage.setItem("history",JSON.stringify(e))};null==sessionStorage.getItem("history"),null==sessionStorage.getItem("history")?i=[]:(i=JSON.parse(sessionStorage.getItem("history")),s(i)),$(e).on("submit",function(){var e=n.val();i.unshift(e),e.length>=3&&(i.length>=3&&(i.pop(),$(".mainMenu__searchHistory").find("span").last().remove()),a(i),s([e]))}),$(t).on("click",function(e){var t=$(e.target).parent();$(e.target).hasClass("mainMenu__searchItemRemove")?(t.animate({width:0,opacity:0},200,function(){t.remove()}),i.splice([t.index()],1)):n.val($(e.target).text()).attr("value",$(e.target).text()).focus(),a(i)})};searchHistory(".mainMenu__search",".mainMenu__searchHistory"),$().ready(function(){inputTypeNumberCheck(),inputSetValue(),mainMenu(".aside__toggle",".mainMenu"),modalClose(".modal__close",".modal"),escClosing(".modal"),owlGallery(".goods__gallerySlider"),owlGallery(".catalog__itemGallery"),tips(".tips__item"),tabs(".orderModal__tabs",".orderModal__windows"),activeLine(".orderModal__tabs",".orderModal__activeLine"),showMenu(".catalog__other",".catalog__otherBtn"),toggleList(".catalog__select"),activeItemOnClick(".catalog__listHeader"),activeItemOnClick(".goods__nav"),youTubeInit(".events__videoBtn","events__videoFrame"),counterOwlSlider(".events__slider",{navContainer:".events__controls",dots:!0},".events__counters"),youTubeInit(".object__itemVideoBtn","object__itemVideo"),modalOpen(".catalog__previewBtn",".preview"),owls(),owlItems(".offers__slider",{navContainer:".offers__nav",responsive:{0:{items:1,margin:10},768:{items:3,margin:40}}}),owlItems(".offers-set__slider",{navContainer:".offers-set__nav",responsive:{0:{items:1,margin:10},768:{items:3,margin:40}}}),counterOwlSlider(".objects__itemSlider",{navContainer:".objects__itemControls",dots:!0},".objects__itemCounter"),$(".detail").length>""&&(detailOwls(),hashTabs(".detail__contentTabs",".detail__contentWindows"),itemsCounter(".offers-set__counter",".priceResult")),$(".object").length>""&&owlGallery(".object__itemSlider"),$(".contacts-page").length>""&&yandexMap([51.51706504131899,46.015190864417974],"Саратов, ул.Чернышевского 94 А"),$(".category").length>""&&owlGallery(".category__itemGallery"),$(".catalog").length>""&&(filterModal(".catalog__other",".catalog__otherFilter"),filterModal(".catalog__filtersBtn",".catalog__otherFilter")),$(".compare").length>""&&compareSlider(".compare__items"),owlItems(".about__instSlider",{responsive:{0:{items:1,margin:10},768:{items:4,margin:40}},navContainer:".about__instControls"}),null==sessionStorage.getItem("loaded")?(animationInit(),$(".preloader").fadeOut(300,function(){$(".preloader").remove()}),sessionStorage.setItem("loaded",!0)):($(".animation").removeClass("slideDown slideUp slideLeft slideRight"),$(".preloader").remove())});var sliderNav=function(e){var e=$(e),t=e.addClass("owl-carousel owl-theme").owlCarousel({margin:15,dots:!1,autoWidth:!0,thumbs:!1,smartSpeed:200}).on("click",function(e){var i=$(e.target).parent().index();i>0&&t.trigger("to.owl.carousel",i-1)})},filtersSlideToggle=function(){$(".catalog__otherFilterTitle").on("click",function(){$(this).hasClass("isOpen")?$(this).removeClass("isOpen").siblings(".catalog__otherFilterBox").slideUp(200):$(this).addClass("isOpen").siblings(".catalog__otherFilterBox").slideDown(200).css({display:"flex"})})},hideContentAndToggle=function(){$(".mainMenu__listTitle").on("click",function(e){e.preventDefault(),$(this).hasClass("isOpen")?$(this).removeClass("isOpen").siblings(".mainMenu__listItem").slideUp():$(this).addClass("isOpen").siblings(".mainMenu__listItem").slideDown(200,function(){$(this).css({display:"block"})})}),$(".mainMenu__item").on("click",function(e){e.preventDefault(),$(this).hasClass("isOpen")?$(this).removeClass("isOpen").siblings(".mainMenu__itemSub").slideUp():$(this).addClass("isOpen").siblings(".mainMenu__itemSub").slideDown(200,function(){$(this).css({display:"block"})})})};$().ready(function(){$(window).width()<768&&(sliderNav(".goods__nav"),sliderNav(".detail__contentTabs")),$(window).width()<1200&&(filtersSlideToggle(),hideContentAndToggle())});