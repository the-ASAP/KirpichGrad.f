"use strict";function stopScroll(e){var t=parseInt(document.documentElement.clientWidth),n=parseInt(window.innerWidth),a=n-t;$(e).attr("style","overflow: hidden; padding-right: "+a+"px")}function freeScroll(e){$(e).attr("style","")}function menuOpen(e,t){$(e).on("click",function(){stopScroll("body"),$(t).fadeIn(300).addClass("visible")})}function modalOpen(e,t){$(e).on("click",function(){stopScroll("body"),$(t).fadeIn().css({display:"flex"})})}function modalClose(e,t){$(e).on("click",function(){$(this).closest(t).fadeOut(),$("body").attr("style",""),freeScroll("body")})}function escClosing(e){$(document).keydown(function(t){return 27===t.keyCode?($(e).fadeOut(),$("body").attr("style",""),!1):void 0})}function owls(){$(".showroom__slider").owlCarousel({nav:!0,navContainer:".showroom__sliderNav",navText:['<svg class="showroom__sliderNavBtn" width="20" height="20" viewBox="0 0 20 20" fill="none"xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd"d="M17.5983 10.5776H0V9.23071H17.413L9.40289 0.95237L10.3244 0L20.0003 9.99988L10.3244 19.9998L9.40289 19.0474L17.5983 10.5776Z"fill="#4F4F4F" /></svg>','<svg class="sliderNavBtn"  width="20" height="20" viewBox="0 0 20 20" fill="none"xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd"d="M17.5983 10.5776H0V9.23071H17.413L9.40289 0.95237L10.3244 0L20.0003 9.99988L10.3244 19.9998L9.40289 19.0474L17.5983 10.5776Z"fill="#4F4F4F" /></svg>'],dots:!1,items:1,touchDrag:!1,mouseDrag:!1,animateOut:"fadeOut",animateIn:"fadeIn",smartSpeed:1e3,lazyLoad:!0,margin:10});var e=$(".goods__gallerySlider");e.each(function(){$(this).owlCarousel({items:1,margin:10,dots:!0,lazyLoad:!0})}),$(".events__slider").owlCarousel({nav:!0,navContainer:".events__controls",navText:['<svg class="sliderNavBtn" width="20" height="20" viewBox="0 0 20 20" fill="none"xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd"d="M17.5983 10.5776H0V9.23071H17.413L9.40289 0.95237L10.3244 0L20.0003 9.99988L10.3244 19.9998L9.40289 19.0474L17.5983 10.5776Z"fill="#4F4F4F" /></svg>','<svg class="sliderNavBtn"  width="20" height="20" viewBox="0 0 20 20" fill="none"xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd"d="M17.5983 10.5776H0V9.23071H17.413L9.40289 0.95237L10.3244 0L20.0003 9.99988L10.3244 19.9998L9.40289 19.0474L17.5983 10.5776Z"fill="#4F4F4F" /></svg>'],dots:!1,items:1,touchDrag:!1,mouseDrag:!1,animateOut:"fadeOut",animateIn:"fadeIn",smartSpeed:1e3,margin:10}),$(".offers__slider").owlCarousel({margin:40,items:3,dots:!1,nav:!0,navContainer:".offers__nav",navText:['<svg class="sliderNavBtn" width="20" height="20" viewBox="0 0 20 20" fill="none"xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd"d="M17.5983 10.5776H0V9.23071H17.413L9.40289 0.95237L10.3244 0L20.0003 9.99988L10.3244 19.9998L9.40289 19.0474L17.5983 10.5776Z"fill="#4F4F4F" /></svg>','<svg class="sliderNavBtn"  width="20" height="20" viewBox="0 0 20 20" fill="none"xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd"d="M17.5983 10.5776H0V9.23071H17.413L9.40289 0.95237L10.3244 0L20.0003 9.99988L10.3244 19.9998L9.40289 19.0474L17.5983 10.5776Z"fill="#4F4F4F" /></svg>'],lazyLoad:!0,thumbs:!1,smartSpeed:1e3})}function detailOwls(){$(".detail__slider").owlCarousel({items:1,margin:10,dots:!1,lazyLoad:!0,thumbs:!0,thumbImage:!0,thumbsPrerendered:!0,thumbContainerClass:"owl-thumbs",thumbItemClass:"owl-thumbs-item",smartSpeed:400})}function objectSlider(){$(".object__gallery").on("initialized.owl.carousel changed.owl.carousel",function(e){if(e.namespace){var t=e.relatedTarget,n="0"+(t.relative(t.current())+1),a="0"+t.items().length;$(".object__itemCurrent").html(n),$(".object__itemLength").html(a)}}).owlCarousel({items:1,margin:10,dots:!1,lazyLoad:!0,touchDrag:!1,mouseDrag:!1,animateOut:"fadeOut",animateIn:"fadeIn",smartSpeed:1e3,thumbs:!1,navContainer:".object__itemControls",navText:['<svg class="sliderNavBtn" width="20" height="20" viewBox="0 0 20 20" fill="none"xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd"d="M17.5983 10.5776H0V9.23071H17.413L9.40289 0.95237L10.3244 0L20.0003 9.99988L10.3244 19.9998L9.40289 19.0474L17.5983 10.5776Z"fill="#4F4F4F" /></svg>','<svg class="sliderNavBtn"  width="20" height="20" viewBox="0 0 20 20" fill="none"xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd"d="M17.5983 10.5776H0V9.23071H17.413L9.40289 0.95237L10.3244 0L20.0003 9.99988L10.3244 19.9998L9.40289 19.0474L17.5983 10.5776Z"fill="#4F4F4F" /></svg>']})}function hashTabs(e,t){function n(e){$(o).filter("[data-index = "+e+"]").addClass(s),setTimeout(function(){$(".active").addClass("visible");var e=o.filter(".active").height();$(t).css({height:e})},100)}for(var a,i=$(e).children("button"),o=$(t).children(),s="active",l=$(i).length,d=location.hash,r=0;l>r;r++)$(i[r]).attr("data-index",r+1),$(o[r]).attr("data-index",r+1);if(d>""){var c=d.replace("#","");$(i).filter("[data-index = "+c+"]").addClass(s),n(c)}else $(i).eq(0).addClass(s),n(1);$(i).on("click",function(){$(this).hasClass(s)||(a=$(this).attr("data-index"),location.hash=a,$(i).removeClass(s),$(this).addClass(s),$(o).removeClass("active visible"),n(a))})}function youTubeInit(){$(".events__videoBtn").on("click",function(){var e=$(this).attr("data-video");$(this).after('<iframe class="events__videoFrame" src="'.concat(e,'" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>')).remove()})}function tips(e){var e=$(e),t=e.find("button");t.on("click",function(){var e=$(this).siblings(".content");$(this).hasClass("isOpen")?($(this).removeClass("isOpen"),e.slideUp()):($(this).addClass("isOpen"),e.slideDown())})}function showMenu(e,t){var n=$(".aside"),t=$(t),e=t.siblings(e),a=!0;a===!0&&(a=!1,$(document).on("scroll",function(){n.removeClass("open")})),t.on("click",function(){$(this).hasClass("isOpen")?($(this).removeClass("isOpen"),e.fadeOut(200)):($(this).addClass("isOpen"),e.fadeIn(200))}),$(document).on("mousedown",function(n){$(e).parent().is(n.target)||0!==$(e).parent().has(n.target).length||(e.fadeOut(200),t.removeClass(".isOpen"))})}function yandexMap(){$("#map").length>0&&ymaps.ready(function(){var e=new ymaps.Map("map",{center:[51.869051532878736,44.99647525936559],zoom:17,multiTouch:!1,controls:["zoomControl"]},{suppressMapOpenBlock:!0}),t=new ymaps.Placemark([51.86911130776214,44.996507445873775],{hintContent:"Россия, Саратовская область, Аткарск, улица Гагарина, 91"});e.geoObjects.add(t),e.controls.remove("routeEditor"),e.behaviors.disable("scrollZoom")})}function toggleList(e){var e=$(e),t=e.find("button"),n="isOpen";$(t).on("click",function(){var t=$(this).siblings("div"),a=$(this).height(),i=t.length,o=t.height();$(this).hasClass(n)?$(this).removeClass(n).closest(e).removeClass(n).height(a):$(this).addClass(n).closest(e).addClass(n).height(i*o+a)})}function activeItemOnClick(e){var e=$(e),t=e.find("button");t.on("click",function(){t.removeClass("active"),$(this).addClass("active")})}function animationInit(){$(".animation").css({"animation-name":"slideTo"}).hide().show(0)}$().ready(function(){menuOpen(".aside__toggle",".mainMenu"),modalClose(".modal__close",".modal"),escClosing(".modal"),owls(),tips(".tips__item"),showMenu(".catalog__other",".catalog__otherBtn"),toggleList(".catalog__select"),activeItemOnClick(".catalog__listHeader"),activeItemOnClick(".goods__nav"),$(".detail").length>""&&(detailOwls(),hashTabs(".detail__contentTabs",".detail__contentWindows")),$(".object").length>""&&objectSlider(),$(".contacts-page").length>""&&yandexMap();var e=document.querySelector(".preloader").style;null==sessionStorage.getItem("loaded")?(animationInit(),window.addEventListener("load",function(){e.opacity=1,function t(){(e.opacity-=.1)<0?e.display="none":setTimeout(t,70)}()}),sessionStorage.setItem("loaded",!0)):(animationInit(),window.addEventListener("load",function(){e.opacity=1,function t(){(e.opacity-=.1)<0?e.display="none":setTimeout(t,70)}()}),sessionStorage.setItem("loaded",!0))});var sliderNav=function(e){var e=$(e),t=e.addClass("owl-carousel owl-theme").owlCarousel({margin:15,dots:!1,autoWidth:!0,thumbs:!1,smartSpeed:200}).on("click",function(e){var n=$(e.target).parent().index();n>0&&t.trigger("to.owl.carousel",n-1)})};$().ready(function(){$(window).width()<768&&sliderNav(".goods__nav")});